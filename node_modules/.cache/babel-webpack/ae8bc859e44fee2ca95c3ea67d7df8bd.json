{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let GifsService = /*#__PURE__*/(() => {\n  class GifsService {\n    constructor(http) {\n      this.http = http;\n      this.appikey = 'R7Hg66FAZfrapmNX0ZTCRUvR7g9XM2Zo';\n      this._historial = [];\n      this.respuesta = [];\n\n      if (localStorage.getItem('historial')) {\n        this._historial = JSON.parse(localStorage.getItem('historial'));\n      }\n\n      this.respuesta = JSON.parse(localStorage.getItem('respuesta')) || [];\n    }\n\n    get historial() {\n      return [...this._historial];\n    }\n\n    buscarGifs(query) {\n      query = query.trim().toLowerCase();\n\n      if (query.trim().length === 0) {\n        return;\n      }\n\n      if (!this._historial.includes(query)) {\n        this._historial.unshift(query);\n\n        this._historial = this._historial.splice(0, 4);\n        localStorage.setItem('historial', JSON.stringify(this._historial));\n      }\n\n      this.http.get(`https://api.giphy.com/v1/gifs/search?api_key=R7Hg66FAZfrapmNX0ZTCRUvR7g9XM2Zo&q=${query}&limit=20`).subscribe(resp => {\n        console.log(resp.data);\n        this.respuesta = resp.data;\n        localStorage.setItem('respuesta', JSON.stringify(this.respuesta));\n      });\n      console.log(this._historial);\n    }\n\n  }\n\n  GifsService.ɵfac = function GifsService_Factory(t) {\n    return new (t || GifsService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  GifsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: GifsService,\n    factory: GifsService.ɵfac,\n    providedIn: 'root'\n  });\n  return GifsService;\n})();","map":null,"metadata":{},"sourceType":"module"}